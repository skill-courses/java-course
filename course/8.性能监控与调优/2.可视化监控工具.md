# 可视化监控工具

![monitor-tools-ui](https://i.loli.net/2021/05/15/KEPYjNwqCTpdWQ6.jpg)

通过前面一节的学习，我们知道了命令行监控工具的基本使用，这些命令行工具是最基本的JVM监控工具，凭借着其简单易用的特性，在服务端的实时监控中应用广泛。但是，这些命令行工具对内存溢出、内存泄露以及线程死锁等较深层次的监控就相当有限，同时由于命令行提供的数据可视化能力较弱，阅读和排查问题较难。所以，今天我们就来学习一些可视化的监控工具，这些工具在我们进行应用程序性能调优的时候比较方便。

## Jconsole

Jconsole是JDK自带的允许用户监控并管理Java应用程序的图形工具。JConsole将连接到运行在同一个工作站或远程工作站上的应用程序。前提是这些应用程序必须配置为允许访问。

首先，我们在命令行中输入`jconsole`命令，将进入如下窗口：

![jconsole-connect](https://i.loli.net/2021/05/15/R9zb5AqBSUfltHa.jpg)

选择你需要连接的应用程序线程，点击连接，进入概览(overview)页面(选择不安全连接)：

![jconsole-overview](https://i.loli.net/2021/05/15/Asb6qxRcvmOueQ7.jpg)

在这个页面，你可以查看堆内存(Heap memory), 线程(Threads), 类(Classes), CUP利用率等。

当然，关于详细的堆内存，你可以进入内存页面(Memory)进一步查看,这个tab包含了各种内存的使用情况，包括Eden区，Old区等等。

![jconsole-memory](https://i.loli.net/2021/05/15/iu2UsyxBkW7A6O4.jpg)

当然，关于线程的死锁检测和类的加载情况，你可以通过Threads和Classes类来详细查看。

对于VM Summary Tab，这个页面使用文字的方式，对JVM当前的状态和参数进行了一些列罗列，使用起来十分方便：

![jconsole-vm-summary](https://i.loli.net/2021/05/15/LUeQZXBAiahbKDR.jpg)

总体而言，此图形化界面满足了基本的监控需要，同时是JDK自带的监控工具，不需要额外下载和安装，但是其提供的功能实在是十分有限，对进一步的性能诊断还是提供不了太多有价值的信息。

> 注： 由于 JConsole 会消耗大量系统资源，因此 Oracle 建议仅在用于创建原型的开发环境中使用它。还建议使用远程监控将 JConsole 应用程序与所监控的平台隔离。



