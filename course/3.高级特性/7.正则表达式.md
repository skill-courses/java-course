# 正则表达式

![java-regex](https://tva1.sinaimg.cn/large/008eGmZEly1gpcpp6hmkgj31720fa0yp.jpg)

在实际工作场景中，你是否遇到过以下场景：
* 如何判断一个身份证号码的合法性？比如620422199812032238和6204221998150322387？
* 如何判断一个电话号码的合法性？比如13884247888和15342scdf67？
* 如何判断一个邮箱的合法性？比如test@163.com和test#163.com？

最容易想到的一种做法是用程序的字符串循环遍历来进行判断每个字符的合法性。这种方式虽然能够实现，但是有以下缺点：
* 代码冗余复杂，写起来比较繁琐。
* 如果写的不好，可读性差，维护难度大。

有没有一种简洁的方法，仅仅定义一种校验规则便可以实现？

当然有，那就是我们今天要学习的正则表达式！

正则表达式可以用字符串来描述规则，并用来匹配字符串。一个正则表达式就是一个描述规则的字符串，所以，只需要编写正确的规则，我们就可以让正则表达式引擎去判断目标字符串是否符合规则。

例如，如果要校验一个身份证号的有效性：

![id-numbers](https://tva1.sinaimg.cn/large/008eGmZEly1gpdw1l0d30j30j606e0t6.jpg)

实现代码如下：
```java
public class RegexTest {
    public static void main(String[] args) {
        System.out.println(isValidIDNumber("620422199210242238")); // true
        System.out.println(isValidIDNumber("62042219921024223X")); // true
        System.out.println(isValidIDNumber("62042217921024223X")); // false
        System.out.println(isValidIDNumber("620422199215242238")); // false
        System.out.println(isValidIDNumber("620422199210342238")); // false
        System.out.println(isValidIDNumber("62042219921034223")); // false
    }

    public static boolean isValidIDNumber(String ids) {
        return ids.matches("^[1-9]\\d{5}(19|20)\\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]");
    }
}
```

从上面的代码可以看出，正则表达式实现此功能非常容易，仅仅使用了一行代码就完成了，足以证明正则表达式的强大之处！

## Java中的正则表达式